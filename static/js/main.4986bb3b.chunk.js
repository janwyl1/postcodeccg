(this.webpackJsonppostcodeccg=this.webpackJsonppostcodeccg||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(4),r=n.n(c),o=(n(10),n(11),n(12),n(13),n(1)),u=n.n(o),s=n(2),m=function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Postcode"),l.a.createElement("th",null,"CCG"),l.a.createElement("th",null,"PCT"),l.a.createElement("th",null,"Health Authority"),l.a.createElement("th",null,"CCG Code"),l.a.createElement("th",null,"CCG ID")))},i=function(e){return l.a.createElement("tbody",null,e.data.map((function(e,t){return!!e.result&&l.a.createElement(d,{loc:e,key:t})})))},d=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.loc.query.toUpperCase()),l.a.createElement("td",null,e.loc.result.ccg),l.a.createElement("td",null,e.loc.result.primary_care_trust),l.a.createElement("td",null,e.loc.result.nhs_ha),l.a.createElement("td",null,e.loc.result.codes.ccg),l.a.createElement("td",null,e.loc.result.codes.ccg_id))},E=function(e){return l.a.createElement("div",{className:"tbl-wrapper"},l.a.createElement("table",{className:"u-full-width"},l.a.createElement(m,null),l.a.createElement(i,{data:e.data})))},p=function(e,t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postcodes:t})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},h=function(e){return l.a.createElement("div",{className:"row postcode-input"},l.a.createElement("textarea",{placeholder:"Enter a comma separated list of postcodes e.g. WA1 1AA, L31 1ED...",onChange:function(t){e.handleInput(t)},className:"d-block column"}),l.a.createElement("button",{type:"submit",onClick:function(t){e.handleGoClick(t)},className:"d-block button button-primary column mx-auto"},"Go!"))},f=function(e){var t="",n="";return e.data.forEach((function(e){n.length>0&&(n+=", "),n+=e.query.toUpperCase(),t.length>0&&(t+=", "),e.result?t+=e.result.codes.ccg_id:t+="N/A"})),l.a.createElement("div",{className:"ccg-output"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"one-half column"},l.a.createElement("h6",null,"Postcode:"),l.a.createElement("p",null,n)),l.a.createElement("div",{className:"one-half column"},l.a.createElement("h6",null,"CCG:"),l.a.createElement("p",null,t))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"twelve columns"},l.a.createElement("button",{type:"submit",className:"button button-primary",onClick:function(t){return e.reset(t)}},"Reset"))))},v=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),o=Object(s.a)(r,2),m=o[0],i=o[1],d=Object(a.useState)(0),v=Object(s.a)(d,2),b=v[0],w=v[1],g=Object(a.useState)([]),C=Object(s.a)(g,2),y=C[0],N=C[1];return m?(console.log(m),l.a.createElement("main",null,l.a.createElement("p",null,"There was an error"))):n?l.a.createElement("main",null,l.a.createElement("p",null,"Loading...")):b?l.a.createElement("main",null,l.a.createElement(f,{data:b,reset:function(e){e.preventDefault(),w(0)}}),l.a.createElement(E,{data:b})):l.a.createElement("main",null,l.a.createElement(h,{handleInput:function(e){e.preventDefault();var t=e.target.value.split(",");N(t)},handleGoClick:function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!(y.length<1)){t.next=3;break}return t.abrupt("return",!1);case 3:c(1),p("https://api.postcodes.io/postcodes/",y).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong ...")})).then((function(e){c(0),w(e.result)})).catch((function(e){c(0),i(e)}));case 5:case"end":return t.stop()}}))}}))},b=function(){return l.a.createElement("header",null,l.a.createElement("h1",null,"Postcode to CCG"))},w=function(){return l.a.createElement("footer",null,l.a.createElement("p",null,"Created by James Anwyl. Data provided by Postcodes.io API"))};var g=function(){return l.a.createElement("div",{className:"App container"},l.a.createElement("div",{className:"main-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement(b,null)),l.a.createElement("div",{className:"row"},l.a.createElement(v,null))),l.a.createElement("div",{className:"row"},l.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.4986bb3b.chunk.js.map