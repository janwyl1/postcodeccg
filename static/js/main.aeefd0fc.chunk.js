(this.webpackJsonppostcodeccg=this.webpackJsonppostcodeccg||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(4),r=n.n(l),o=(n(10),n(11),n(12),n(13),n(1)),u=n.n(o),s=n(2),i=function(){return c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Postcode"),c.a.createElement("th",null,"CCG"),c.a.createElement("th",null,"PCT"),c.a.createElement("th",null,"Health Authority"),c.a.createElement("th",null,"CCG Code"),c.a.createElement("th",null,"CCG ID")))},m=function(e){return c.a.createElement("tbody",null,e.data.map((function(e,t){return!!e.result&&c.a.createElement(d,{loc:e,key:t})})))},d=function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e.loc.query.toUpperCase()),c.a.createElement("td",null,e.loc.result.ccg),c.a.createElement("td",null,e.loc.result.primary_care_trust),c.a.createElement("td",null,e.loc.result.nhs_ha),c.a.createElement("td",null,e.loc.result.codes.ccg),c.a.createElement("td",null,e.loc.result.codes.ccg_id))},p=function(e){return c.a.createElement("div",{className:"tbl-wrapper"},c.a.createElement("table",{className:"u-full-width"},c.a.createElement(i,null),c.a.createElement(m,{data:e.data})))},E=function(e,t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postcodes:t})}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},f=function(e){return c.a.createElement("div",{className:"row postcode-input"},c.a.createElement("textarea",{placeholder:"Enter a comma separated list of postcodes e.g. WA1 1AA, L31 1ED...",onChange:function(t){e.handleInput(t)},className:"d-block column"}),c.a.createElement("button",{type:"submit",onClick:function(t){e.handleGoClick(t)},className:"d-block button button-primary column mx-auto"},"Go!"))},h=function(e){var t="",n="";return e.data.forEach((function(e){n.length>0&&(n+=", "),n+=e.query.toUpperCase(),t.length>0&&(t+=", "),e.result?t+=e.result.codes.ccg_id:t+="N/A"})),c.a.createElement("div",{className:"ccg-output"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"one-half column"},c.a.createElement("h6",null,"Postcode:"),c.a.createElement("p",{onClick:function(t){e.copy(t)}},n)),c.a.createElement("div",{className:"one-half column"},c.a.createElement("h6",null,"CCG:"),c.a.createElement("p",{onClick:function(t){e.copy(t)}},t))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"twelve columns"},c.a.createElement("button",{type:"submit",className:"button button-primary",onClick:function(t){return e.reset(t)}},"Reset"))))},b=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(0),o=Object(s.a)(r,2),i=o[0],m=o[1],d=Object(a.useState)(0),b=Object(s.a)(d,2),g=b[0],v=b[1],y=Object(a.useState)([]),w=Object(s.a)(y,2),C=w[0],N=w[1];return i?(console.log(i),c.a.createElement("main",null,c.a.createElement("p",null,"There was an error"))):n?c.a.createElement("main",null,c.a.createElement("p",null,"Loading...")):g?c.a.createElement("main",null,c.a.createElement(h,{data:g,reset:function(e){e.preventDefault(),v(0)},copy:function(e){if(console.log("Copy to clipboard:",e.target.innerText),e.preventDefault(),console.log("supported?: ",document.queryCommandSupported("copy")),document.queryCommandSupported("copy")&&document.execCommand("copy",null,e.target.innerText),navigator.permissions.query({name:"clipboard-write"}).then((function(t){"granted"!=t.state&&"prompt"!=t.state||navigator.clipboard.writeText(e.target.innerText).then((function(){console.log("copied")}),(function(){console.log("failed to copy")}))})))return!1}}),c.a.createElement(p,{data:g})):c.a.createElement("main",null,c.a.createElement(f,{handleInput:function(e){e.preventDefault();var t=e.target.value.split(",");N(t)},handleGoClick:function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!(C.length<1)){t.next=3;break}return t.abrupt("return",!1);case 3:l(1),E("https://api.postcodes.io/postcodes/",C).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong ...")})).then((function(e){l(0),v(e.result)})).catch((function(e){l(0),m(e)}));case 5:case"end":return t.stop()}}))}}))},g=function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"Postcode to CCG"))},v=function(){return c.a.createElement("footer",null,c.a.createElement("p",null,"Created by ",c.a.createElement("a",{href:"https://github.com/janwyl1",title:"James Anwyl Github"},"James Anwyl"),". Data provided by ",c.a.createElement("a",{href:"http://postcodes.io/"},"Postcodes.io API")))};var y=function(){return c.a.createElement("div",{className:"App container"},c.a.createElement("div",{className:"main-wrapper"},c.a.createElement("div",{className:"row"},c.a.createElement(g,null)),c.a.createElement("div",{className:"row"},c.a.createElement(b,null))),c.a.createElement("div",{className:"row"},c.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.aeefd0fc.chunk.js.map